httprr trace v1
733 14365
POST https://openrouter.ai/api/v1/chat/completions HTTP/1.1
Host: openrouter.ai
User-Agent: langchaingo-httprr
Content-Length: 528
Authorization: Bearer test-api-key
Content-Type: application/json

{"model":"anthropic/claude-3.7-sonnet:thinking","messages":[{"role":"user","content":"What is the weather like in Boston, MA?"}],"stream":true,"tools":[{"type":"function","function":{"name":"getCurrentWeather","description":"Get the current weather in a given location","parameters":{"type":"object","properties":{"location":{"type":"string","description":"The city and state, e.g. San Francisco, CA"},"unit":{"type":"string","enum":["celsius","fahrenheit"]}},"required":["location"]}}}],"stream_options":{"include_usage":true}}HTTP/2.0 200 OK
Content-Length: 13949
Access-Control-Allow-Origin: *
Cache-Control: no-cache
Content-Type: text/event-stream
Date: Mon, 23 Jun 2025 15:14:34 GMT
Server: cloudflare
Vary: Accept-Encoding
X-Clerk-Auth-Message: Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)
X-Clerk-Auth-Reason: token-invalid
X-Clerk-Auth-Status: signed-out

: OPENROUTER PROCESSING

: OPENROUTER PROCESSING

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":null},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":null,"reasoning_details":[{"type":"reasoning.text","text":"","signature":""}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":"The","reasoning_details":[{"type":"reasoning.text","text":"The"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":" user is asking about the weather in Boston, MA","reasoning_details":[{"type":"reasoning.text","text":" user is asking about the weather in Boston, MA"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":". I can use the `","reasoning_details":[{"type":"reasoning.text","text":". I can use the `"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":"getCurrentWeather` function","reasoning_details":[{"type":"reasoning.text","text":"getCurrentWeather` function"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":" to provide this information.","reasoning_details":[{"type":"reasoning.text","text":" to provide this information."}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":"\n\nLet's check the","reasoning_details":[{"type":"reasoning.text","text":"\n\nLet's check the"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":" required parameters for the `getCurrentWeather`","reasoning_details":[{"type":"reasoning.text","text":" required parameters for the `getCurrentWeather`"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":" function:\n1. location: This","reasoning_details":[{"type":"reasoning.text","text":" function:\n1. location: This"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":" is provided as \"Boston, MA","reasoning_details":[{"type":"reasoning.text","text":" is provided as \"Boston, MA"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":"\"\n2. unit:","reasoning_details":[{"type":"reasoning.text","text":"\"\n2. unit:"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":" This is optional, as it","reasoning_details":[{"type":"reasoning.text","text":" This is optional, as it"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":"'s not listed in the \"","reasoning_details":[{"type":"reasoning.text","text":"'s not listed in the \""}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":"required\" array. Since the user didn't specify","reasoning_details":[{"type":"reasoning.text","text":"required\" array. Since the user didn't specify"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":" a preference, I'll om","reasoning_details":[{"type":"reasoning.text","text":" a preference, I'll om"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":"it this parameter rather than making","reasoning_details":[{"type":"reasoning.text","text":"it this parameter rather than making"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":" up a value.\n\nI'll procee","reasoning_details":[{"type":"reasoning.text","text":" up a value.\n\nI'll procee"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":"d with calling the function with just","reasoning_details":[{"type":"reasoning.text","text":"d with calling the function with just"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":" the location parameter.","reasoning_details":[{"type":"reasoning.text","text":" the location parameter."}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":null,"reasoning_details":[{"type":"reasoning.text","signature":"ErUBCkYIBBgCIkCOMya34T/e41dTEroKk/HxC57krNyydRED+CeGa7eCNwgv0MD0xkabaQYTOvAy6zLjmGzeeDorq2czjTxmQjjREgz+5RFAmzxLdbMEen8aDPCLf8bWOJIp6w25cyIwvMWTpX/+Ec6WdKMJ67e0fDDzkjgFAdCGENZZGLHMQnAk6OFbBWR+pqSuIR7qLHCIKh2esJHW5JUO7G7t5WaJbJWW+V5ayO3JD9BWH57IaBgC"}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":null},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"I'll check the current weather in Boston, MA for","reasoning":null},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":" you.","reasoning":null},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"id":"toolu_01EUWUDZNh3uAAkKL8m3mFi4","index":0,"type":"function","function":{"name":"getCurrentWeather","arguments":""}}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"type":"function","function":{"arguments":""}}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"type":"function","function":{"arguments":"{\"locati"}}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"type":"function","function":{"arguments":"on\": \"Bos"}}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"type":"function","function":{"arguments":"ton,"}}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"type":"function","function":{"arguments":" M"}}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":null,"tool_calls":[{"index":0,"type":"function","function":{"arguments":"A\"}"}}]},"finish_reason":null,"native_finish_reason":null,"logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":"","reasoning":null},"finish_reason":"tool_calls","native_finish_reason":"tool_calls","logprobs":null}]}

data: {"id":"gen-1750691673-5lZSMJVqltZ6sxL9nrpS","provider":"Anthropic","model":"anthropic/claude-3.7-sonnet:thinking","object":"chat.completion.chunk","created":1750691673,"choices":[{"index":0,"delta":{"role":"assistant","content":""},"finish_reason":null,"native_finish_reason":null,"logprobs":null}],"usage":{"prompt_tokens":453,"completion_tokens":192,"total_tokens":645,"cost":0.004239,"is_byok":false,"prompt_tokens_details":{"cached_tokens":0},"cost_details":{"upstream_inference_cost":null},"completion_tokens_details":{"reasoning_tokens":127}}}

data: [DONE]

